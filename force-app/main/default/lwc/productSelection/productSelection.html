<template>
    <lightning-card title = "Product" icon-name = "custom:custom63">
        <div class = "slds-p-around_medium">
            <lightning-input type = "text" label="Search Product By Name" value={searchTerm} onchange={handleInputChange}></lightning-input>
            <lightning-input type = "number" label ="Min Price" value={minPrice} onchange={handleInputChange}></lightning-input>
            <lightning-input type = "number" label ="Max Price" value={maxPrice} onchange={handleInputChange}></lightning-input>
            <lightning-input type = "number" label ="Min Rating" value={minRating} onchange={handleInputChange}></lightning-input>
            <lightning-input type = "boolean" label ="In Stock only" checked={inStockOnly} onchange={handleInputChange}></lightning-input>
        </div>
        <!-- Product list selection -->
         <template if:true = {products}>
            <div class = "slds-grid slds-wrap slds-p-around_medium" >
                <template for:each={products} for:item="product">
                    <div key={product.id} class="slds-col slds-size_1-of-3 slds-p-around_small">
                        <lightning-card title= {Product_Name__c} icon-name="custom:custom26">
                            <p class="slds-p-horizontal-medium">
                                <strong> Price : </strong> ${product.price} <br />
                                <strong> Rating : </strong> {product.rating} <br />
                                <strong> Stock Availability </strong> {product.stockAvailablity}
 
                            </p>
                            <lightning-button label = "Select" variant="brand" onclick={handleProductSelection} data-id={product.Id}></lightning-button>
                        </lightning-card>
                    </div>
                </template>
            </div>
         </template>
         <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading......"></lightning-spinner>
         </template>
         <template if:true={error}>
            <div class = "slds-text-color_error slds-p-around_medium">{error}</div>
         </template>
    </lightning-card>
</template>